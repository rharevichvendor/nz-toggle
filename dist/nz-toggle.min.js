!function(){var l=angular.module("nzToggle",[]);l.directive("nzToggle",["$timeout",function(l){return{restrict:"E",replace:!0,scope:{config:"=?",ngModel:"=",onToggle:"&",ngDisabled:"="},template:['<div class="nz-toggle-wrap" ng-class="getStyle()" ng-style="wrapStyle">','   <div class="nz-toggle">','       <div class="nz-toggle-handle"></div>',"   </div>",'   <div class="nz-toggle-tooltip" ng-show="tooltip">',"       <span ng-class=\"{'active': showTooltip1}\">",'           <span ng-show="tipFalse"></span>{{tipFalse}}',"       </span>",'       <br ng-show="vertical">','       <span ng-class="{\'active\': showTooltip2}" ng-show="triToggle">','           <span ng-show="tipNull"></span>{{tipNull}}',"       </span>",'       <br ng-show="vertical">',"       <span ng-class=\"{'active': showTooltip3}\">",'           <span ng-show="tipTrue"></span>{{tipTrue}}',"       </span>","   </div>","</div>"].join(""),link:function(e,o,t){function a(){s(),y(b.ngModel)||(y(b.valDefault)?b.ngModel=b.valDefault:b.triToggle?b.ngModel=b.valNull:b.ngModel=b.valFalse);var l=!0;b.$watch("ngModel",function(){if(c(),l)return void(l=!1);if(b.onToggle.call){var e=b.onToggle();e&&e.call&&e(b.ngModel)}},!0),p(o[0],"mousedown",i),p(o[0],"click",n),b.$on("$destroy",function(){v(o[0],"mousedown",i),v(window,"mousemove",r),v(window,"mouseup",u),v(o[0],"click",n)})}function n(l){T<1&&d()}function i(l){if(!b.ngDisabled)return l=l?l:window.event,h={x:l.pageX||l.touches[0].pageX,y:l.pageY||l.touches[0].pageY},T=0,M.css("transition","0s"),p(window,"mousemove",r),p(window,"mouseup",u),l.stopPropagation(),l.returnValue=!1,!1}function r(l){l=l?l:window.event;var e=(l.pageY||l.touches[0].pageY)-h.y,t=(l.pageX||l.touches[0].pageX)-h.x,a=o[0].offsetHeight,n=o[0].offsetWidth,i=e/(a/2)*100,r=t/(n/2)*100;return b.vertical?(f=parseFloat(F.vertical[b.state]),w=Math.max(Math.min(parseFloat(i+f),100),0),m=f+(w-f)/2,M.css("top",m+"%")):(f=parseFloat(F.horizontal[b.state]),w=Math.max(Math.min(parseFloat(r+f),100),0),m=f+(w-f)/2,M.css("left",m+"%")),T=Math.max(T,Math.max(Math.abs(e),Math.abs(t))),l.stopPropagation(),l.returnValue=!1,!1}function u(l){return l=l?l:window.event,h=!1,b.$apply(function(){if(!(T<1&&"mouseup"==l.type))return T<1&&"touchend"==l.type?void d():b.triToggle?b.vertical?w>73?void d("false"):w>27?void d("null"):void d("true"):w<27?void d("false"):w<73?void d("null"):void d("true"):b.vertical?w>50?void d("false"):void d("true"):w<50?void d("false"):void d("true")}),M.css({top:"",left:"",transition:""}),v(window,"mousemove",r),v(window,"mouseup",u),l.stopPropagation(),l.returnValue=!1,!1}function s(){if(angular.extend(b,N,b.config||{}),y(t.triToggle)&&(b.triToggle=!0),angular.forEach(["valDefault","valTrue","valFalse","valNull","width","height","colorFalse","colorNull","colorTrue"],function(l){y(t[l])&&(b[l]=b.$eval(t[l]))}),angular.forEach(["tipTrue","tipFalse","tipNull"],function(l){y(t[l])&&b.$watch(t[l],function(e){b[l]=e})}),(b.tipTrue||t.tipFalse||t.tipNull)&&(b.tooltip=!0),y(t.vertical)){b.vertical=!0;var l;b.tooltip&&(l=b.tipTrue,b.tipTrue=b.tipFalse,b.tipFalse=l),b.$eval(t.width)||b.$eval(t.width)||b.config&&(b.config.width||b.config.height)||(l=b.width,b.width=b.height,b.height=l)}b.wrapStyle={width:b.width+"px",height:b.height+"px"},y(b.outerRadius)||(b.outerRadius=Math.min(b.width,b.height)/2),b.innerRadius=b.outerRadius-b.padding}function g(){return[b.vertical?"vertical":"horizontal",b.state]}function c(){return b.showTooltip1=!1,b.showTooltip2=!1,b.showTooltip3=!1,angular.equals(b.ngModel,b.valTrue)?(null!=b.colorTrue&&(b.wrapStyle.backgroundColor=b.colorTrue),b.state="true",void(b.vertical?b.showTooltip1=!0:b.showTooltip3=!0)):angular.equals(b.ngModel,b.valFalse)?(b.state="false",null!=b.colorFalse&&(b.wrapStyle.backgroundColor=b.colorFalse),void(b.vertical?b.showTooltip3=!0:b.showTooltip1=!0)):(b.state="null",null!=b.colorNull&&(b.wrapStyle.backgroundColor=b.colorNull),void(b.showTooltip2=!0))}function d(e){b.ngDisabled||l(function(){if(e){if(b.state=e,"false"===e)return void(b.ngModel=b.valFalse);if("null"===e)return void(b.ngModel=b.valNull);b.ngModel=b.valTrue}else{if("false"==b.state)return void(b.ngModel=b.triToggle?b.valNull:b.valTrue);if("null"==b.state)return void(b.ngModel=b.valTrue);b.ngModel=b.valFalse}})}function p(l,e,o){for(var t=e.split(" "),a=0,n=t.length;a<n;a++)l.addEventListener(t[a],o,!1)}function v(l,e,o){for(var t=e.split(" "),a=0,n=t.length;a<n;a++)l.removeEventListener(t[a],o,!1)}var h,f,w,T,m,M=angular.element(o[0].querySelector(".nz-toggle-handle")),F={horizontal:{"false":0,"null":50,"true":100},vertical:{"false":100,"null":50,"true":0}},y=angular.isDefined,N=(angular.copy,{vertical:!1,valTrue:!0,valFalse:!1,valNull:null,width:50,height:25,padding:3,colorTrue:null,colorFalse:null,colorNull:null,tooltip:!1}),b=e;angular.extend(b,{getStyle:g,toggle:d}),a()}}}])}();